---
title: Solution Interactions
keywords: engage, about
tags: [overview]
sidebar: overview_sidebar
permalink: solution_interactions.html
toc: true
summary: Solution interactions
---

{% include important.html content="This site is under active development by NHS Digital and is intended to provide all the technical resources you need to successfully develop the CDS API. This project is being developed using an agile methodology so iterative updates to content will be added on a regular basis." %}


## Interactions ##

The key interactions for the Clinical Decision Support API are represented in the diagrams below.

### Invoke ServiceDefinition.$evaluate and GuidanceResponse ###

The triage journey starts with the user invoking the CDSS.

The core of the triage journey is the `ServiceDefinition`.$evaluate operation invoked by the EMS. This in turn has a response from the CDSS of a `GuidanceResponse` resource and is the primary message generated by the CDSS.

This interaction is expected to be repeated multiple times during the triage journey as the EMS presents responses to CDSS questions until an end result is reached. 

The `GuidanceResponse` provides a container for the status of the response and includes reference to `Questionnaire` resources, assertions and results.

[![Diagram showing UEC Digital Integration Programme invoke decision support interaction](images/solution/invoke-decision-support.png)](/api_get_service_definition.html)

View the [Post ServiceDefinition](/api_post_service_definition.html) and [GuidanceResponse](/api_guidance_response.html) sections for detailed guidance.


### Get questionnaire and Ask question ###

The CDSS returns a `GuidanceResponse` containing a `Questionnaire` id and the EMS retrieves the `Questionnaire` from the CDSS.

The EMS presents the question from the CDSS to the user, and the user responds to the question via the EMS.

This interaction is expected to be repeated multiple times during the triage journey, with the User response being included within the next `ServiceDefinition`.$evaluate operation to the CDSS.

![Diagram showing UEC Digital Integration Programme ask question interaction](images/solution/get-ask-questionnaire.png)

View the [Get Questionnaire](/api_get_questionnaire.html) section for more information.


### ServiceDefinition.$evaluate including response ###
The EMS logs the response to the first question and includes this within another `ServiceDefinition`.$evaluate operation.

The CDSS creates an assertion of the observation submitted by the user and the CDSS determines there is not enough information to arrive at a result. Another question is returned to be answered.
 
The `GuidanceResponse` returned to the EMS now has the asserted observation, and the next question for the EMS to display.

The EMS logs the assertion received as part of the `GuidanceResponse`.

View the [Post ServiceDefinition](/api_post_service_definition.html) and [GuidanceResponse](/api_guidance_response.html) sections for more information.
![Diagram showing UEC Digital Integration Programme servicedefinition evaluate response interaction](images/solution/servicedefinition-evaluate-response.png)

### Get questionnaire and Ask question ###

The first question and answer have been evaluated and the CDSS has responded with another question.

The EMS repeats the Questionnaire and Ask question loop.

![Diagram showing UEC Digital Integration Programme ask question interaction](images/solution/get-ask-questionnaire.png)

View the [Get Questionnaire](/api_get_questionnaire.html) section for more information.

### ServiceDefinition.$evaluate including observation resource and response ###
The EMS logs the response from the User and again invokes a `ServiceDefinition`.$evaluate operation. This operation now contains the response and any previous assertions for the CDSS to evaluate.

The CDSS creates another assertion from the questionnaire response and determines a result can be provided. The result is sent to the EMS within the `GuidanceResponse`.

View the [Triage Recommendation](/api_referral_request.html), [Care Advice Recommendation](/api_care_plan.html) and [Redirect  ServiceDefinition](api_redirect_service_definition.html) sections for more information.
![Diagram showing UEC Digital Integration Programme servicedefinition evaluate response assertion interaction](images/solution/servicedefinition-evaluate-response-assertion.png)

### Display result ###
The EMS displays the result to the User.

![Diagram showing UEC Digital Integration Programme display result interaction](images/solution/display-result.png)
